<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ğŸ©º Suivi de SymptÃ´mes - Cabinet MÃ©dical</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="css/common.css">
  <link rel="stylesheet" href="styles.css">
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2/dist/umd/supabase.js"></script>
</head>
<body class="page-content gradient-bg">
  <nav class="main-nav">
    <a class="nav-link active" href="index.html" aria-current="page">ğŸ©º Application</a>
    <a class="nav-link" href="dashboard.html">ğŸ“Š Tableau de bord</a>
    <a class="nav-link" href="docs/guide/">ğŸ“– Guide patient</a>
    <a class="nav-link" href="checklist.html">âœ… Suivi</a>
  </nav>

  <div class="container" style="max-width:1200px; margin:0 auto;">
    <header class="header" style="padding-top:1rem;">
      <h1 class="page-title animate-bounce" style="margin-bottom:.25rem;">ğŸ©º Suivi de SymptÃ´mes</h1>
      <p class="page-subtitle" style="margin-top:0;">DÃ©clarez vos symptÃ´mes et suivez lâ€™Ã©volution en temps rÃ©el.</p>
      <div class="mode-indicator" id="modeIndicator">
        <span id="modeIcon">â³</span>
        <span id="modeText">Initialisation...</span>
      </div>

      <div class="stats" style="display:flex; gap:1rem; flex-wrap:wrap; margin-top:1rem;">
        <div class="stat-item">
          <div class="stat-number" id="totalParticipants">0</div>
          <div class="stat-label">Patients suivis</div>
        </div>
        <div class="stat-item">
          <div class="stat-number" id="moodVariety">0</div>
          <div class="stat-label">SymptÃ´mes recensÃ©s</div>
        </div>
        <div class="stat-item">
          <div class="stat-number" id="sessionTime">0</div>
          <div class="stat-label">Minutes</div>
        </div>
      </div>
      <div class="mood-visualization" id="moodVisualization"></div>
    </header>

    <div class="main-content" style="display:flex; flex-wrap:wrap; gap:2rem; align-items:flex-start;">
      <!-- Formulaire -->
      <div class="form-section card" style="flex:1 1 380px;">
        <h2 style="margin-top:0;">ğŸ“ DÃ©clarer mes symptÃ´mes</h2>
        <form id="moodForm">
          <div class="form-group">
            <label for="patientId">Identifiant patient :</label>
            <input type="text" id="patientId" required placeholder="Ex: P12345" maxlength="30">
          </div>

          <div class="form-group">
            <label>SÃ©lectionnez vos symptÃ´mes :</label>
            <div class="emoji-selector">
              <button type="button" class="emoji-btn" data-emoji="ğŸ¤’" title="FiÃ¨vre">ğŸ¤’</button>
              <button type="button" class="emoji-btn" data-emoji="ğŸ¤§" title="Rhume / nez bouchÃ©">ğŸ¤§</button>
              <button type="button" class="emoji-btn" data-emoji="ğŸ¤¢" title="NausÃ©es">ğŸ¤¢</button>
              <button type="button" class="emoji-btn" data-emoji="ğŸ¤•" title="Maux de tÃªte">ğŸ¤•</button>
              <button type="button" class="emoji-btn" data-emoji="ğŸ˜µ" title="Vertiges">ğŸ˜µ</button>
              <button type="button" class="emoji-btn" data-emoji="ğŸ¤¯" title="Douleur intense">ğŸ¤¯</button>
              <button type="button" class="emoji-btn" data-emoji="ğŸ˜´" title="Fatigue">ğŸ˜´</button>
              <button type="button" class="emoji-btn" data-emoji="ğŸ˜®â€ğŸ’¨" title="Essoufflement">ğŸ˜®â€ğŸ’¨</button>
              <button type="button" class="emoji-btn" data-emoji="ğŸ¤’" title="Toux">ğŸ¤’</button>
            </div>
          </div>

          <div class="form-group">
            <label for="intensity">IntensitÃ© des symptÃ´mes (0 = faible; 10 = trÃ¨s fort) :</label>
            <input type="range" id="intensity" min="0" max="10" value="5">
          </div>

          <div class="form-group">
            <label for="location">Localisation principale :</label>
            <select id="location" required>
              <option value="">Choisissez une zone</option>
              <option value="tÃªte">TÃªte</option>
              <option value="poitrine">Poitrine</option>
              <option value="ventre">Ventre</option>
              <option value="dos">Dos</option>
              <option value="jambes">Jambes</option>
              <option value="autre">Autre</option>
            </select>
          </div>

          <div class="form-group">
            <label for="comment">Commentaire (optionnel) :</label>
            <input type="text" id="comment" maxlength="150" placeholder="Ex: pris du paracÃ©tamol ce matin...">
          </div>

          <button type="submit" class="submit-btn" id="submitBtn">âœ… Envoyer mes symptÃ´mes</button>
        </form>
        <p style="font-size:.75rem;color:#666; margin-top:1rem;">âš ï¸ DonnÃ©es confidentielles - usage mÃ©dical uniquement.</p>
      </div>

      <!-- RÃ©sultats -->
      <div class="display-section" style="flex:1 1 460px; min-width:340px;">
        <h2 style="margin-top:0;">ğŸ“Š Ã‰tat des patients</h2>
        <div class="mood-list social-feed" id="moodList">
          <div class="loading">
            <p>â³ En attente des premiÃ¨res dÃ©clarations...</p>
            <p style="font-size: 0.9em; margin-top: 10px; color: #666;">Soumettez vos symptÃ´mes pour commencer.</p>
          </div>
        </div>
      </div>
    </div>
  </div>

  <footer class="dashboard-footer" style="margin-top:3rem;">
    Â© <span id="year"></span> Suivi de SymptÃ´mes â€¢ DonnÃ©es mÃ©dicales protÃ©gÃ©es
  </footer>

  <script src="private-config.js"></script>
  <script type="module" src="main.js?v=2.1.1"></script>
  <script>
    document.getElementById('year').textContent = new Date().getFullYear();
  </script>
</body>
</html>
